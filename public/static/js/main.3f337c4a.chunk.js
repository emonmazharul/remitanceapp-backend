(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{230:function(e,t,a){e.exports=a(398)},239:function(e,t,a){},398:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(219),l=a.n(c),i=(a(237),a(239),function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,403)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,l=t.getTTFB;a(e),n(e),r(e),c(e),l(e)})}),o=a(97),s=a(11),u=a(27),m=a.n(u),p=a(40),d=a(92),f=a(74),g=r.a.createContext({isAuthenticated:!1,totalAmount:{originalAmount:0,currentAmount:0},user:{fullname:void 0,email:void 0,role:void 0},remitance_history:[],loginHandler:function(){return Promise.resolve()},signUpHandler:function(){return Promise.resolve()},logoutHandler:function(){return Promise.resolve()},add_remitance_history:function(){return Promise.resolve()}});function E(e){var t=new FormData;t.append("avatar",e.receiptImage[0].originFileObj);for(var a=["pinNumber","totalPound","totalTaka","payingAgent","sendingDate","exchangeRate","govtIncentive"],n=0;n<a.length;n++){var r=a[n];t.append("".concat(a[n]),e[r])}return t}function v(e){e.govtIncentive=e.govtIncentive?Number(e.govtIncentive):0;["totalPound","totalTaka","exchangeRate"].forEach(function(t){e[t]=Number(e[t])})}var b=function(){var e=Object(p.a)(m.a.mark(function e(t){var a,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/user",{credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"}});case 3:if((a=e.sent).ok){e.next=7;break}return console.log("user is not loged in"),e.abrupt("return");case 7:return e.next=9,a.json();case 9:n=e.sent,t(function(e){return Object(d.a)({},e,n)}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}},e,null,[[0,13]])}));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(p.a)(m.a.mark(function e(t){var a,n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/remitance/all_histories",{credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"}});case 3:if((a=e.sent).ok){e.next=10;break}return e.next=7,a.json();case 7:return n=e.sent,t(n),e.abrupt("return");case 10:return e.next=12,a.json();case 12:r=e.sent,t(r),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}},e,null,[[0,16]])}));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(p.a)(m.a.mark(function e(t,a,n,r){var c,l,i;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/user/login",{method:"POST",credentials:"include",redirect:"follow",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify(t)});case 3:if((c=e.sent).ok){e.next=11;break}return a({isAuthenticated:!1,user:{fullname:void 0,email:void 0,role:void 0}}),e.next=8,c.json();case 8:return l=e.sent,n(function(e){return Object(d.a)({},e,l)}),e.abrupt("return");case 11:return e.next=13,c.json();case 13:i=e.sent,a(function(e){return Object(d.a)({},e,i)}),r("/history"),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}},e,null,[[0,18]])}));return function(t,a,n,r){return e.apply(this,arguments)}}(),x=function(){var e=Object(p.a)(m.a.mark(function e(t,a,n,r){var c,l,i;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/user/signup",{method:"POST",redirect:"follow",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify(t)});case 3:if((c=e.sent).ok){e.next=10;break}return e.next=7,c.json();case 7:return l=e.sent,n(function(e){return Object(d.a)({},e,l)}),e.abrupt("return");case 10:return e.next=12,c.json();case 12:i=e.sent,a(function(e){return Object(d.a)({},e,i)}),r("/history"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0);case 20:case"end":return e.stop()}},e,null,[[0,17]])}));return function(t,a,n,r){return e.apply(this,arguments)}}(),j=function(){var e=Object(p.a)(m.a.mark(function e(t,a,n){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/user/logout",{method:"POST",redirect:"follow",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"}});case 3:t({isAuthenticated:!1,user:{fullname:void 0,email:void 0,role:void 0}}),a([]),n("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,a,n){return e.apply(this,arguments)}}(),T=function(){var e=Object(p.a)(m.a.mark(function e(t,a,n,r){var c,l,i;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/remitance/history",{method:"POST",credentials:"include",body:E(n)});case 3:if((c=e.sent).ok){e.next=10;break}return e.next=7,c.json();case 7:return l=e.sent,r(l),e.abrupt("return");case 10:return e.next=12,c.json();case 12:i=e.sent,a(t.concat(Object(d.a)({},i,{todayRate:0,todayAmount:0}))),r({message:"Successfully added new remitance history",type:"success"}),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0),r({message:"Could not add new data. Pleae try again!",type:"error"});case 23:case"end":return e.stop()}},e,null,[[0,18]])}));return function(t,a,n,r){return e.apply(this,arguments)}}(),O=function(e){var t=e.children,a=Object(s.f)(),c=Object(n.useState)({isAuthenticated:!1,user:{fullname:void 0,email:void 0,role:void 0}}),l=Object(f.a)(c,2),i=l[0],o=l[1],u=Object(n.useState)([]),E=Object(f.a)(u,2),v=E[0],O=E[1],w=Object(n.useState)({originalAmount:0,currentAmount:0}),A=Object(f.a)(w,2),I=A[0],k=A[1];Object(n.useEffect)(function(){b(o),i.isAuthenticated&&h(O)},[i.isAuthenticated]),Object(n.useEffect)(function(){var e={originalAmount:0,currentAmount:0};v.forEach(function(t){e.originalAmount+=t.totalTaka,e.currentAmount+=t.todayAmount||0}),k(function(t){return Object(d.a)({},t,e)})},[v]);var C=function(){var e=Object(p.a)(m.a.mark(function e(t,n){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t,o,n,a);case 2:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),P=function(){var e=Object(p.a)(m.a.mark(function e(t,n){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t,o,n,a);case 2:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),S=function(){var e=Object(p.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(o,O,a);case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(p.a)(m.a.mark(function e(t,a){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(v,O,t,a);case 2:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement(g.Provider,{value:Object(d.a)({},i,{totalAmount:I,remitance_history:v,loginHandler:C,signUpHandler:P,logoutHandler:S,add_remitance_history:N})},t)},w=a(406),A=a(401),I=a(402),k=a(71),C=a(408),P=a(399),S=a(411),N=w.a.Title,R=function(){var e=C.a.useForm(),t=Object(f.a)(e,1)[0],a=Object(n.useContext)(g).signUpHandler,c=Object(n.useState)({message:"",type:void 0}),l=Object(f.a)(c,2),i=l[0],o=l[1],s=Object(n.useState)(!1),u=Object(f.a)(s,2),d=u[0],E=u[1],v=function(){var e=Object(p.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.next=3,a(t,o);case 3:E(!1);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,{level:1}," Signup  "),r.a.createElement(C.a,{form:t,onFinish:v,layout:"vertical",size:"large",name:"basic",wrapperCol:{lg:{span:16},xs:{span:10}},initialValues:{remember:!0},autoComplete:"off"},r.a.createElement(C.a.Item,{label:"Full Name",name:"fullname",rules:[{required:!0,message:"Please input your fullname"}]},r.a.createElement(P.a,null)),r.a.createElement(C.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input you email"}]},r.a.createElement(P.a,null)),r.a.createElement(C.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please provide your password"}]},r.a.createElement(P.a.Password,null)),i.message&&r.a.createElement(C.a.Item,null,r.a.createElement(S.a,{message:i.message,type:i.type,showIcon:!0})),r.a.createElement(C.a.Item,null,r.a.createElement(k.a,{type:"primary",htmlType:"submit",loading:d},"Sign Up"))))},D=a(222),F=w.a.Title,_=function(){var e=Object(D.useForm)(),t=Object(f.a)(e,1)[0],a=Object(n.useContext)(g).loginHandler,c=Object(n.useState)({message:"",type:void 0}),l=Object(f.a)(c,2),i=l[0],o=l[1],s=Object(n.useState)(!1),u=Object(f.a)(s,2),d=u[0],E=u[1],v=function(){var e=Object(p.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.next=3,a(t,o);case 3:E(!1);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(F,{level:1}," Login  "),r.a.createElement(C.a,{form:t,onFinish:v,layout:"vertical",size:"large",name:"basic",wrapperCol:{lg:{span:16},xs:{span:10}},initialValues:{remember:!0},autoComplete:"off"},r.a.createElement(C.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input you email"}]},r.a.createElement(P.a,null)),r.a.createElement(C.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please provide your password"}]},r.a.createElement(P.a.Password,null)),i.message&&r.a.createElement(C.a.Item,null,r.a.createElement(S.a,{message:i.message,type:i.type,showIcon:!0})),r.a.createElement(C.a.Item,null,r.a.createElement(k.a,{type:"primary",htmlType:"submit",loading:d},"Login"))))},U=w.a.Title,L=function(){var e=Object(s.f)(),t=localStorage.getItem("view")||"Sign Up",a=Object(n.useState)(t),c=Object(f.a)(a,2),l=c[0],i=c[1],o=Object(n.useContext)(g).isAuthenticated;Object(n.useEffect)(function(){o&&e("/history")},[o]),Object(n.useEffect)(function(){console.log(window.innerWidth,window.innerHeight)});return r.a.createElement(A.a,{align:"middle",justify:"space-around",className:"homepage_container"},r.a.createElement(I.a,{xs:{span:20},lg:{span:6},className:"left_side"},r.a.createElement(U,{level:1},"WELCOME TO THE REMITANCE TRACKER"),r.a.createElement(k.a,{type:"primary",onClick:function(){var e="Sign Up"===l?"Login":"Sign Up";localStorage.setItem("view",e),i(e)}},"Sign Up"===l?"Login":"Sign Up")),r.a.createElement(I.a,{xs:{span:20},lg:{span:8},className:"right_side"},"Sign Up"===l?r.a.createElement(R,null):r.a.createElement(_,null)),r.a.createElement("br",null))},H=a(404),q=a(409),G=a(407),V=function(e){var t=e.id,a=Object(n.useState)(!1),c=Object(f.a)(a,2),l=c[0],i=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{type:"primary",onClick:function(e){i(!0)}},"View receipt"),r.a.createElement(q.a,{title:"Receipt Image",visible:l,onOk:function(){i(!1)},onCancel:function(){i(!1)}},r.a.createElement(G.a,{src:"remitance/receipt_image/".concat(t),alt:"receipt image"})))},M=[{title:"TOTAL POUND",dataIndex:"totalPound",key:"TOTAL POUND",responsive:["xs","sm"]},{title:"TOTAL TAKA",dataIndex:"totalTaka",key:"TOTAL TAKA",responsive:["xs","sm"]},{title:"EXCHANGE RATE",dataIndex:"exchangeRate",key:"EXCHANGE RATE",responsive:["sm"]},{title:"SENDING DATE",dataIndex:"sendingDate",key:"SENDING DATA",responsive:["sm"]},{title:"CURRENT VALUE",dataIndex:"todayAmount",key:"CURRENT TOTAL TAKA",responsive:["xs","sm"]},{title:"CURRENT RATE",dataIndex:"todayRate",key:"CURRENT RATE",responsive:["sm"]},{title:"PAYING AGENT",dataIndex:"payingAgent",key:"PAYING AGENT",responsive:["sm"]},{title:"GOVT REWARD",dataIndex:"govtIncentive",key:"GOVT REWARD",responsive:["sm"]},{title:"RECEIPT IMAGE",dataIndex:"receiptImage",key:"RECIPT IMAGE",render:function(e,t){var a=t.receiptImage,n=t.key;return n="string"===typeof n?n:"",r.a.createElement(V,{id:n,receiptImage:a})},responsive:["sm"]}],Y=(new Date("2022-06-30").toDateString(),new Date("2022-05-30").toDateString(),new Date("2022-04-30").toDateString(),new Date("2022-04-30").toDateString(),a(412)),z=function(){var e=Object(s.f)(),t=Object(n.useContext)(g),a=t.user,c=t.logoutHandler,l=a.fullname?a.fullname:"John Doe",i=a.fullname?{btnOneText:"Logout",btnTwoText:"Add Remitance"}:{btnOneText:"Login",btnTwoText:"Home"},o=function(){a.fullname?c():e("/")};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"first_flex"},r.a.createElement("div",null,r.a.createElement(k.a,{id:"nav_headline",type:"text",style:{color:"#fff"},onClick:function(){return e(a.fullname?"/history":"/")}},"Welcome ",l)),r.a.createElement("div",null,r.a.createElement(k.a,{type:"primary",size:"large",onClick:o},i.btnOneText),r.a.createElement("div",{style:{display:"inline-block",marginRight:"12px"}}),r.a.createElement(k.a,{type:"primary",size:"large",onClick:function(){return e(a.fullname?"/add_remitance":"/")}},i.btnTwoText))),r.a.createElement(A.a,{justify:"center"},r.a.createElement(I.a,{sm:{span:8},lg:{span:0},md:{span:0},style:{padding:"20px 0"}},r.a.createElement(Y.b,null,r.a.createElement(k.a,{type:"primary",onClick:o},i.btnOneText),r.a.createElement(k.a,{type:"primary",onClick:function(){return e(a.fullname?"/add_remitance":"/")}},i.btnTwoText)))))},J=w.a.Title,W=function(){var e=Object(n.useContext)(g),t=e.remitance_history,a=e.totalAmount,c=a.originalAmount,l=a.currentAmount;return r.a.createElement(r.a.Fragment,null,r.a.createElement(z,null),r.a.createElement("div",{className:"total_values"},r.a.createElement(J,{level:1},"Total amount is = ",c," & current value would be = ",l)),r.a.createElement(A.a,{style:{marginTop:"25px"},justify:"center"},r.a.createElement(I.a,{span:24},r.a.createElement(H.a,{bordered:!0,pagination:!1,dataSource:t,columns:M,size:"large"}),";")))},K=a(405),B=a(413),X=function(e){return Array.isArray(e)?e:e.fileList?e.fileList:""},$=function(){var e=C.a.useForm(),t=Object(f.a)(e,1)[0],a=Object(n.useContext)(g).add_remitance_history,c=Object(n.useState)({message:"",type:void 0}),l=Object(f.a)(c,2),i=l[0],o=l[1],s=Object(n.useState)(!1),u=Object(f.a)(s,2),d=u[0],E=u[1],b=function(){var e=Object(p.a)(m.a.mark(function e(n){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v(n),E(!0),e.next=4,a(n,o);case 4:E(!1),t.setFieldsValue({receiptImage:[],totalTaka:"",pinNumber:"",totalPound:"",exchangeRate:"",govtIncentive:""});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(C.a,{className:"remitance_form",form:t,layout:"vertical",name:"basic",wrapperCol:{lg:{span:16},xs:{span:10}},initialValues:{remember:!0},autoComplete:"off",onFinish:b},r.a.createElement(C.a.Item,{label:"Pin Number",name:"pinNumber",rules:[{required:!0,message:"You have to provide the pin number with a length of >= 5",min:5}]},r.a.createElement(P.a,{type:"number"})),r.a.createElement(C.a.Item,{label:"Total Pound",name:"totalPound",rules:[{required:!0,message:"Pleae set a total pound"}]},r.a.createElement(P.a,{type:"number"})),r.a.createElement(C.a.Item,{label:"Total Taka",name:"totalTaka",rules:[{required:!0,message:"Pleae set a total taka"}]},r.a.createElement(P.a,{type:"number"})),r.a.createElement(C.a.Item,{label:"Exchange Rate",name:"exchangeRate",rules:[{required:!0,message:"There must be an exchange rate"}]},r.a.createElement(P.a,{type:"number"})),r.a.createElement(C.a.Item,{label:"Sending date",name:"sendingDate",rules:[{required:!0,message:"Please set the valid sending date"},function(){return{validator:function(e,t){return t&&null===t.match(/^\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/)?Promise.reject(new Error("Please provide a date with YYYY-MM-DD format")):Promise.resolve()}}}]},r.a.createElement(P.a,null)),r.a.createElement(C.a.Item,{label:"Paying Agent",name:"payingAgent",rules:[{required:!0,message:"The should be an paying agent"}]},r.a.createElement(P.a,null)),r.a.createElement(C.a.Item,{label:"Govt Incentive",name:"govtIncentive"},r.a.createElement(P.a,{type:"number"})),r.a.createElement(C.a.Item,{label:"Dragger"},r.a.createElement(C.a.Item,{name:"receiptImage",valuePropName:"fileList",getValueFromEvent:X,noStyle:!0,rules:[{required:!0,message:"please select the receipt image"}]},r.a.createElement(K.a.Dragger,{name:"files",multiple:!1,showUploadList:!1,customRequest:function(){},accept:".png,.jpg,.jpeg"},r.a.createElement("p",{className:"ant-upload-drag-icon"},r.a.createElement(B.a,null)),r.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload")))),i.message&&r.a.createElement(C.a.Item,null,r.a.createElement(S.a,{message:i.message,type:i.type,showIcon:!0})),r.a.createElement(C.a.Item,null,r.a.createElement(k.a,{type:"primary",htmlType:"submit",loading:d},"Add Remitance")))},Q=w.a.Title,Z=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(z,null),r.a.createElement(A.a,{className:"remtitance_container",justify:"space-between",align:"middle",wrap:!0},r.a.createElement(I.a,{lg:{span:12}},r.a.createElement("div",{className:"remitance_image"},r.a.createElement("img",{src:"/picture.jpg",alt:"type the data"})),r.a.createElement("div",{className:"header_parent"},r.a.createElement(Q,{level:1,style:{letterSpacing:"1"}},"ADD AN REMITANCE"))),r.a.createElement(I.a,{xs:{span:24},lg:{span:12}},r.a.createElement($,null))))},ee=a(410),te=function(){return r.a.createElement(ee.a,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:r.a.createElement(o.b,{to:"/"},"Back Home")})},ae=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",element:r.a.createElement(L,null)}),r.a.createElement(s.a,{path:"/history",element:r.a.createElement(W,null)}),r.a.createElement(s.a,{path:"/add_remitance",element:r.a.createElement(Z,null)}),r.a.createElement(s.a,{path:"*",element:r.a.createElement(te,null)})))},ne=function(){return r.a.createElement(O,null,r.a.createElement(ae,null))},re=function(){return r.a.createElement(o.a,null,r.a.createElement(ne,null))},ce=document.getElementById("root");l.a.createRoot(ce).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(re,null))),i()}},[[230,3,2]]]);
//# sourceMappingURL=main.3f337c4a.chunk.js.map